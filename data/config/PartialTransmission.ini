; PartialTransmission - Template basic config file
; Assets:
;  . bonus_01.png by Nicolas Rivi√®re, made for Dstroy 2, used with author's permission

[Display]
Title           = PartialTransmission
ScreenWidth     = 1920
ScreenHeight    = 1080

[Resource]
Texture         = ../data/texture

[Input]
KEY_ESCAPE      = Quit
KEY_ENTER       = Reload

[MainViewport]
Camera          = MainCamera

[MainCamera]
FrustumWidth    = 1920
FrustumHeight   = 1080
FrustumFar      = 2
FrustumNear     = 0
Zoom            = 4
Position        = (0, 0, -1) ; Objects with -1 <= Z <= 1 will be visible

[Scene]
Size            = (480, 270, 1)
Pivot           = center


; --- Stage ---
[Stage]
Graphic         = @
Texture         = pixel
Pivot           = center
Size            = % > Get Scene Size, * < (0.25, 0.5, 1)
OnPrepare       = > @, Config.AppendValue < ChildList StageTitle

[StageTitle]
Graphic         = @
Text            = @
Color           = black
Pivot           = top
Scale           = 0.5
Position        = top (0, 5, -0.5)
OnCreate        = > Object.GetOwner ^, > Object.GetName <, Object.SetText ^ <


; --- Random/Base Object ---
[RandomObject]
OnPrepare       = > Get RandomObject List, Config.SetParent RandomObject <
List            = Strawberry # Tomato # RedPepper # Mushroom # Glove # Shoe # Feather # YellowPepper # Bag
Position        = (0, 0, -0.1)


[Object]
AnimationSet    = @
StartAnim       = Idle
Idle            = 6
Texture         = bonus_01.png
Pivot           = center
FrameSize       = (16, 16)
KeyDuration     = 0.1

[Idle1]
KeyDuration     = 2

[Strawberry@Object]
Name            = Strawberry

[Tomato@Object]
Name            = Tomato
TextureOrigin   = (0, 16)

[RedPepper@Object]
Name            = RedPepper
TextureOrigin   = (0, 32)

[Mushroom@Object]
Name            = Mushroom
TextureOrigin   = (0, 48)

[Glove@Object]
Name            = Glove
TextureOrigin   = (0, 64)

[Shoe@Object]
Name            = Shoe
TextureOrigin   = (0, 80)

[Feather@Object]
Name            = Feather
TextureOrigin   = (0, 96)

[YellowPepper@Object]
Name            = YellowPepper
TextureOrigin   = (0, 112)

[Bag@Object]
Name            = Bag
TextureOrigin   = (0, 128)


; --- FXs ---
[Wobble]
SlotList        = @
Loop            = true
Type            = scale
Curve           = sine
EndValue        = 0.5
EndTime         = 2

[Move]
SlotList        = @
Loop            = true
Type            = position
Curve           = sine
EndValue        = (0, -20)
EndTime         = 3


; --- Plain Shadow ---
[Scene]
ChildList      += Shadow

[Shadow@Stage]
Color           = steel blue
Position        = top left -> top left
ChildList       = ShadowObject

[ShadowObject@RandomObject]
ChildList       = ShadowChild
AngularVelocity = 90

[ShadowChild]
OnPrepare       = > Config.GetParent RandomObject, Config.SetParent ShadowChild <
Color           = black
Alpha           = 0.6
Position        = (2, 4, 0.01)


; --- Ignore + Shadow ---
[Scene]
ChildList      += Shadow+Ignore

[Shadow+Ignore@Stage]
Color           = light steel blue
Position        = top right -> top
ChildList       = Shadow+IgnoreObject

[Shadow+IgnoreObject@ShadowObject]
ChildList       = Shadow+IgnoreChild

[Shadow+IgnoreChild@ShadowChild]
IgnoreFromParent= position.rotation


; --- Plain Label ---
[Scene]
ChildList      += Label

[Label@Stage]
Color           = golden rod
Position        = bottom left -> bottom left
ChildList       = LabelObject

[LabelObject@RandomObject]
ChildList       = LabelChild
AngularVelocity = 90
FXList          = Wobble # Move

[LabelChild]
Graphic         = @
Text            = @
OnCreate        = > Object.GetOwner ^, > Object.GetName <, > Get < Name, Object.SetText ^ <
Color           = indigo
Scale           = 0.5
Pivot           = top
Position        = (0, 10)


; --- Ignore + Label ---
[Scene]
ChildList      += Label+Ignore

[Label+Ignore@Stage]
Color           = pale golden rod
Position        = bottom right -> bottom
ChildList       = Label+IgnoreObject

[Label+IgnoreObject@LabelObject]
ChildList       = Label+IgnoreChild

[Label+IgnoreChild@LabelChild]
IgnoreFromParent= rotation scale position.rotation position.scale
